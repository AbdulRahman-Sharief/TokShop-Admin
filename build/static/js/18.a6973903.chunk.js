(this.webpackJsonptokshop=this.webpackJsonptokshop||[]).push([[18],{185:function(e,t,s){"use strict";var a=s(3),l=s(7),c=s(0),n=s(63),r=s(206),i=s(92),o=s(68),d=s(65),b=s(207),j=s(236);function x(e){return Object(j.a)("MuiTableBody",e)}Object(b.a)("MuiTableBody",["root"]);var h=s(1);const m=["className","component"],O=Object(d.a)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),u={variant:"body"},p="tbody",g=c.forwardRef((function(e,t){const s=Object(o.a)({props:e,name:"MuiTableBody"}),{className:c,component:d=p}=s,b=Object(l.a)(s,m),j=Object(a.a)({},s,{component:d}),g=(e=>{const{classes:t}=e;return Object(r.a)({root:["root"]},x,t)})(j);return Object(h.jsx)(i.a.Provider,{value:u,children:Object(h.jsx)(O,Object(a.a)({className:Object(n.a)(g.root,c),as:d,ref:t,role:d===p?null:"rowgroup",ownerState:j},b))})}));t.a=g},186:function(e,t,s){"use strict";var a=s(3),l=s(7),c=s(0),n=s(63),r=s(206),i=s(210),o=s(92),d=s(68),b=s(65),j=s(207),x=s(236);function h(e){return Object(x.a)("MuiTableRow",e)}var m=Object(j.a)("MuiTableRow",["root","selected","hover","head","footer"]),O=s(1);const u=["className","component","hover","selected"],p=Object(b.a)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.head&&t.head,s.footer&&t.footer]}})((e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${m.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${m.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Object(i.a)(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Object(i.a)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}})),g="tr",f=c.forwardRef((function(e,t){const s=Object(d.a)({props:e,name:"MuiTableRow"}),{className:i,component:b=g,hover:j=!1,selected:x=!1}=s,m=Object(l.a)(s,u),f=c.useContext(o.a),v=Object(a.a)({},s,{component:b,hover:j,selected:x,head:f&&"head"===f.variant,footer:f&&"footer"===f.variant}),C=(e=>{const{classes:t,selected:s,hover:a,head:l,footer:c}=e,n={root:["root",s&&"selected",a&&"hover",l&&"head",c&&"footer"]};return Object(r.a)(n,h,t)})(v);return Object(O.jsx)(p,Object(a.a)({as:b,ref:t,className:Object(n.a)(C.root,i),role:b===g?null:"row",ownerState:v},m))}));t.a=f},222:function(e,t,s){"use strict";s.r(t);var a=s(0),l=s(16),c=s(47),n=s(55),r=s(61),i=s(50),o=s(46),d=s(45),b=s(44),j=s.n(b),x=s(91),h=s(48),m=s(56),O=s(43),u=s(1);var p=e=>{let{packages:t,openEdit:s,startDelete:a,openDetails:c}=e;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(l.TableBody,{children:null===t||void 0===t?void 0:t.map((e=>Object(u.jsxs)(l.TableRow,{children:[Object(u.jsxs)(l.TableCell,{children:[Object(u.jsx)("span",{className:"text-sm",children:e.name})," "]}),Object(u.jsxs)(l.TableCell,{children:[Object(u.jsx)("span",{className:"text-sm",children:e.description})," "]}),Object(u.jsxs)(l.TableCell,{children:[Object(u.jsx)("span",{className:"text-sm",children:e.minutePrice})," "]}),Object(u.jsx)(l.TableCell,{children:Object(u.jsx)("span",{className:"text-sm",children:b(e.createdAt).format("MMM D, YYYY")})}),Object(u.jsxs)(l.TableCell,{children:[Object(u.jsx)("span",{className:"text-sm",children:e.numberOfProducts})," "]}),Object(u.jsxs)(l.TableCell,{children:[Object(u.jsx)("span",{children:e.isActive?Object(u.jsx)(h.b,{className:"text-green-500 text-2xl"}):Object(u.jsx)(m.a,{className:"text-red-500 text-xl"})})," "]}),Object(u.jsxs)(l.TableCell,{children:[Object(u.jsx)("span",{onClick:()=>c(e),className:"text-lg hover:text-yellow-300 duration-300 cursor-pointer",children:Object(u.jsx)(O.r,{})})," "]}),Object(u.jsx)(l.TableCell,{children:Object(u.jsx)(x.a,{id:e._id,title:e.name,openEdit:s,startDelete:a})})]},e._id)))})})};var g=e=>{let{closeHandler:t}=e;const[s,c]=Object(a.useState)(""),[n,r]=Object(a.useState)(""),[i,o]=Object(a.useState)(""),[d,b]=Object(a.useState)(""),[j,x]=Object(a.useState)(""),[O,p]=Object(a.useState)(!1);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(l.Card,{className:"mt-10 min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:[Object(u.jsx)("div",{className:"p-2 bg-gray-700 shadow-md border-gray-900 text-white m-2 inline-block rounded cursor-pointer",onClick:()=>{t(),p(!1)},children:Object(u.jsx)(m.b,{})}),Object(u.jsxs)(l.CardBody,{className:"flex flex-col justify-start",children:[j&&Object(u.jsxs)("p",{className:"mb-5 bg-red-600 text-white font-semibold p-2 rounded flex items-center gap-2",children:[Object(u.jsx)(h.j,{className:"text-2xl text-yellow-200"})," ",j]}),Object(u.jsxs)("div",{className:"mb-5 flex flex-col gap-4",children:[Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{className:"text-white font-semibold",children:"Name"}),Object(u.jsx)("input",{type:"text",onChange:e=>c(e.target.value),value:s,className:"p-2 mt-2 bg-gray-700 rounded w-full outline-none text-white"})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{className:"text-white font-semibold",children:"Minute Price"}),Object(u.jsx)("input",{type:"number",onChange:e=>r(e.target.value),value:n,className:"p-2 mt-2 bg-gray-700 rounded w-full outline-none text-white"})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{className:"text-white font-semibold mb-3",children:"Description"}),Object(u.jsx)("input",{type:"text",onChange:e=>b(e.target.value),value:d,className:"p-2 mt-2 bg-gray-700 rounded w-full outline-none text-white"})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{className:"text-white font-semibold",children:"Number Of Products"}),Object(u.jsx)("input",{type:"number",onChange:e=>o(e.target.value),value:i,className:"p-2 mt-2 bg-gray-700 rounded w-full outline-none text-white"})]})]}),Object(u.jsx)("button",{disabled:O,onClick:()=>{p(!0),(()=>{if(console.log(""===s),""===s||""===n||""===i||""===d)return p(!1),x("Please Enter Non Empty Values");const e={name:s,minutePrice:n,numberOfProducts:i,description:d},a="https://mix-mart.online/livePackges";console.log("URL => ",a),console.log("Data => ",e),fetch(a,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>{if(!e.ok)return p(!1),x("Something Went Wrong, Please Refresh And Try Again");e.json()})).then((e=>{console.log(e),x(""),t(),p(!1),window.location.reload()}))})()},className:"bg-green-500 text-white rounded p-3 font-semibold hover:bg-green-600 duration-300 focus:outline-none",children:"Create Package"})]})]})})};var f=e=>{let{closeHandler:t,data:s}=e;const[c,n]=Object(a.useState)(s.name),[r,i]=Object(a.useState)(s.minutePrice),[o,d]=Object(a.useState)(s.numberOfProducts),[b,j]=Object(a.useState)(s.description),[x,O]=Object(a.useState)(s.isActive),[p,g]=Object(a.useState)(""),[f,v]=Object(a.useState)(!1);return console.log(x),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(l.Card,{className:"mt-10 min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:[Object(u.jsx)("div",{className:"p-2 bg-gray-700 shadow-md border-gray-900 text-white m-2 inline-block rounded cursor-pointer",onClick:()=>{t(),v(!1)},children:Object(u.jsx)(m.b,{})}),Object(u.jsxs)(l.CardBody,{className:"flex flex-col justify-start",children:[p&&Object(u.jsxs)("p",{className:"mb-5 bg-red-600 text-white font-semibold p-2 rounded flex items-center gap-2",children:[Object(u.jsx)(h.j,{className:"text-2xl text-yellow-200"})," ",p]}),Object(u.jsxs)("div",{className:"mb-5 flex flex-col gap-4",children:[Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{className:"text-white font-semibold",children:"Name"}),Object(u.jsx)("input",{type:"text",onChange:e=>n(e.target.value),value:c,className:"p-2 mt-2 bg-gray-700 rounded w-full outline-none text-white"})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{className:"text-white font-semibold",children:"Minute Price"}),Object(u.jsx)("input",{type:"number",onChange:e=>i(e.target.value),value:r,className:"p-2 mt-2 bg-gray-700 rounded w-full outline-none text-white"})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{className:"text-white font-semibold",children:"Description"}),Object(u.jsx)("input",{type:"text",onChange:e=>j(e.target.value),value:b,className:"p-2 mt-2 bg-gray-700 rounded w-full outline-none text-white"})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{className:"text-white font-semibold",children:"Number Of Products"}),Object(u.jsx)("input",{type:"number",onChange:e=>d(e.target.value),value:o,className:"p-2 mt-2 bg-gray-700 rounded w-full outline-none text-white"})]}),Object(u.jsxs)("label",{className:"flex items-center gap-4",children:[Object(u.jsx)("p",{className:"text-white font-semibold",children:"Is Active"}),Object(u.jsx)("input",{type:"checkbox",onChange:()=>O((e=>!e)),checked:x,className:"w-5 h-5"})]})]}),Object(u.jsx)("button",{disabled:f,onClick:()=>{v(!0),(()=>{if(""===c||""===r||""===o)return v(!1),g("Please Enter Non Empty Values");const e={name:c,minutePrice:r,numberOfProducts:o,description:b,isActive:x},a="https://mix-mart.online/livePackges/"+s._id;fetch(a,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>{if(!e.ok)return g("Something Went Wrong, Please Refresh And Try Again");e.json()})).then((e=>{g(""),t(),v(!1),window.location.reload()}))})()},className:"bg-green-500 text-white rounded p-3 font-semibold hover:bg-green-600 duration-300 focus:outline-none",children:"Update Package"})]})]})})};var v=e=>{let{closeHandler:t,id:s,title:c}=e;const[n,r]=Object(a.useState)("");return Object(u.jsxs)(l.Card,{className:"mt-10 min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:[Object(u.jsx)("div",{className:"p-2 bg-gray-700 shadow-md border-gray-900 text-white m-2 inline-block rounded cursor-pointer",onClick:t,children:Object(u.jsx)(m.b,{})}),n&&Object(u.jsxs)("p",{className:"mb-5 bg-red-600 text-white font-semibold p-2 rounded flex items-center gap-2",children:[Object(u.jsx)(h.j,{className:"text-2xl text-yellow-200"})," ",n]}),Object(u.jsxs)(l.CardBody,{className:"flex flex-col justify-start pt-0",children:[Object(u.jsxs)("p",{className:"text-center text-white mb-4 font-semibold",children:['Are You Sure You Want To Delete "',c,'" ?']}),Object(u.jsxs)("div",{className:"flex justify-center gap-5",children:[Object(u.jsx)("button",{onClick:t,className:"bg-gray-600 text-white rounded py-2 px-5 font-semibold hover:bg-gray-700 duration-300 focus:outline-none",children:"Cancel"}),Object(u.jsx)("button",{onClick:()=>{fetch("https://mix-mart.online/livePackges/"+s,{method:"DELETE"}).then((e=>{if(!e.ok)return r("Something Went Wrong, Please Refresh And Try Again");e.json()})).then((e=>{t(),window.location.reload()}))},className:"bg-red-600 text-white rounded py-2 px-5 font-semibold hover:bg-red-700 duration-300 focus:outline-none",children:"Delete Package"})]})]})]})};var C=e=>{let{subs:t}=e;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(l.TableBody,{children:null===t||void 0===t?void 0:t.map((e=>Object(u.jsxs)(l.TableRow,{children:[Object(u.jsxs)(l.TableCell,{children:[Object(u.jsx)("span",{className:"text-sm",children:e.userId?e.userId.firstName:"No User"})," "]}),Object(u.jsxs)(l.TableCell,{children:[Object(u.jsx)("span",{className:"text-sm",children:e.details})," "]}),Object(u.jsxs)(l.TableCell,{children:[Object(u.jsx)("span",{className:"text-sm",children:e.type})," "]}),Object(u.jsxs)(l.TableCell,{children:[Object(u.jsx)("span",{className:"text-sm",children:e.numberOfMinutes})," "]}),Object(u.jsxs)(l.TableCell,{children:[Object(u.jsx)("span",{className:"text-sm",children:e.usedMinutes})," "]}),Object(u.jsxs)(l.TableCell,{children:[Object(u.jsx)("span",{className:"text-sm",children:e.totalPrice})," "]}),Object(u.jsxs)(l.TableCell,{children:[Object(u.jsx)("span",{className:"text-sm",children:e.status})," "]}),Object(u.jsxs)(l.TableCell,{children:[Object(u.jsx)("span",{className:"text-sm",children:j()(e.createdAt).format("MMM D, YYYY")})," "]})]},e._id)))})})},N=s(185),w=s(186);var y=e=>{let{closeHandler:t,packData:s}=e;const{data:a,loading:d}=Object(c.a)((()=>o.a.getAllLiveSubs(s._id))),{handleChangePage:b,totalResults:x,resultsPerPage:O,dataTable:p}=Object(n.a)(a.subscriptions);return console.log(p),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(l.Card,{className:"mt-10 min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:[Object(u.jsx)("div",{className:"p-2 bg-gray-700 shadow-md border-gray-900 text-white m-2 inline-block rounded cursor-pointer",onClick:()=>{t()},children:Object(u.jsx)(m.b,{})}),Object(u.jsx)(l.CardBody,{className:"flex flex-col justify-start",children:Object(u.jsx)(l.TableContainer,{className:"mb-8 rounded-b-lg",children:Object(u.jsxs)(l.Table,{children:[Object(u.jsx)(l.TableHeader,{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)(l.TableCell,{children:"Title"}),Object(u.jsx)(l.TableCell,{children:"Description"}),Object(u.jsx)(l.TableCell,{children:"Minute Price"}),Object(u.jsx)(l.TableCell,{children:"Created At"}),Object(u.jsx)(l.TableCell,{children:"Products"}),Object(u.jsx)(l.TableCell,{children:"Is Active"})]})}),Object(u.jsx)(N.a,{children:Object(u.jsxs)(w.a,{children:[Object(u.jsxs)(l.TableCell,{children:[Object(u.jsx)("span",{className:"text-sm text-white",children:s.name})," "]}),Object(u.jsxs)(l.TableCell,{children:[Object(u.jsx)("span",{className:"text-sm text-white",children:s.description})," "]}),Object(u.jsxs)(l.TableCell,{children:[Object(u.jsx)("span",{className:"text-sm text-white",children:s.minutePrice})," "]}),Object(u.jsx)(l.TableCell,{children:Object(u.jsx)("span",{className:"text-sm text-white",children:j()(s.createdAt).format("MMM D, YYYY")})}),Object(u.jsxs)(l.TableCell,{children:[Object(u.jsx)("span",{className:"text-sm text-white",children:s.numberOfProducts})," "]}),Object(u.jsxs)(l.TableCell,{children:[Object(u.jsx)("span",{children:s.isActive?Object(u.jsx)(h.b,{className:"text-green-500 text-2xl"}):Object(u.jsx)(m.a,{className:"text-red-500 text-xl"})})," "]})]},s._id)})]})})})]}),Object(u.jsx)(l.Card,{children:Object(u.jsxs)(l.CardBody,{children:[Object(u.jsxs)("h2",{className:"text-xl mb-2 text-white uppercase font-semibold",children:["[ ",s.name," ] Supscripers"]}),d?Object(u.jsx)(i.a,{loading:d}):0!==x?Object(u.jsxs)(l.TableContainer,{className:"mb-8 rounded-b-lg",children:[Object(u.jsxs)(l.Table,{children:[Object(u.jsx)(l.TableHeader,{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)(l.TableCell,{children:"Name"}),Object(u.jsx)(l.TableCell,{children:"Details"}),Object(u.jsx)(l.TableCell,{children:"Type"}),Object(u.jsx)(l.TableCell,{children:"Number Of Minutes"}),Object(u.jsx)(l.TableCell,{children:"Used Minutes"}),Object(u.jsx)(l.TableCell,{children:"Total Price"}),Object(u.jsx)(l.TableCell,{children:"Status"}),Object(u.jsx)(l.TableCell,{children:"Created At"})]})}),Object(u.jsx)(C,{subs:p})]}),Object(u.jsx)(l.TableFooter,{children:Object(u.jsx)(l.Pagination,{totalResults:x,resultsPerPage:O,onChange:b,label:"Table navigation"})})]}):Object(u.jsx)(r.a,{className:"flex flex-col justify-center",title:"Users"})]})})]})};t.default=()=>{const{data:e,loading:t}=Object(c.a)((()=>o.a.getAllLivePackages())),{userRef:s,setRole:b,handleChangePage:j,totalResults:x,resultsPerPage:h,dataTable:m,serviceData:O,handleSubmitUser:C}=Object(n.a)(e.Data),[N,w]=Object(a.useState)(!1),[T,k]=Object(a.useState)({state:!1,data:"",id:""}),[P,S]=Object(a.useState)({state:!1,id:"",title:""}),[D,A]=Object(a.useState)({state:!1,packData:""}),M=()=>{k({state:!1,data:"",id:""}),w(!1),S({state:!1,id:"",title:""}),A({state:!1,packData:""})};return Object(u.jsxs)(u.Fragment,{children:[N&&Object(u.jsx)(g,{closeHandler:M}),T.state&&Object(u.jsx)(f,{closeHandler:M,data:T.data}),P.state&&Object(u.jsx)(v,{closeHandler:M,id:P.id,title:P.title}),D.state&&Object(u.jsx)(y,{closeHandler:M,packData:D.packData}),Object(u.jsx)(d.a,{children:"All Live Packages"}),Object(u.jsx)(l.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:Object(u.jsx)(l.CardBody,{children:Object(u.jsx)(l.Button,{onClick:()=>{w(!0),k({state:!1,data:"",id:""}),S({state:!1,id:"",title:""})},children:"Add Package"})})}),t?Object(u.jsx)(i.a,{loading:t}):0!==O.length?Object(u.jsxs)(l.TableContainer,{className:"mb-8 rounded-b-lg",children:[Object(u.jsxs)(l.Table,{children:[Object(u.jsx)(l.TableHeader,{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)(l.TableCell,{children:"Title"}),Object(u.jsx)(l.TableCell,{children:"Description"}),Object(u.jsx)(l.TableCell,{children:"Minute Price"}),Object(u.jsx)(l.TableCell,{children:"Created At"}),Object(u.jsx)(l.TableCell,{children:"Products"}),Object(u.jsx)(l.TableCell,{children:"Is Active"}),Object(u.jsx)(l.TableCell,{children:"Details"}),Object(u.jsx)(l.TableCell,{className:"text-right",children:"Actions"})]})}),Object(u.jsx)(p,{packages:m,openEdit:e=>{fetch("https://mix-mart.online/livePackges/"+e).then((e=>e.json())).then((t=>{k({state:!0,data:t,id:e}),w(!1),S({state:!1,id:"",title:""})}))},startDelete:(e,t)=>{S({state:!0,id:e,title:t}),k({state:!1,data:"",id:""}),w(!1)},openDetails:e=>{D.state&&M(),setTimeout((()=>{A({state:!0,packData:e})}),0),k({state:!1,data:"",id:""}),w(!1),S({state:!1,id:"",title:""})}})]}),Object(u.jsx)(l.TableFooter,{children:Object(u.jsx)(l.Pagination,{totalResults:x,resultsPerPage:h,onChange:j,label:"Table navigation"})})]}):Object(u.jsx)(r.a,{title:"Packages"})]})}},91:function(e,t,s){"use strict";s(0);var a=s(43),l=s(62),c=s(1);t.a=e=>{let{id:t,openEdit:s,startDelete:n,title:r}=e;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"flex justify-end text-right",children:[Object(c.jsx)("div",{onClick:()=>s(t),className:"p-2 cursor-pointer text-gray-400 hover:text-green-600",children:Object(c.jsx)(l.a,{id:"edit",Icon:a.c,title:"Edit",bgColor:"#10B981"})}),Object(c.jsx)("div",{onClick:()=>n(t,r),className:"p-2 cursor-pointer text-gray-400 hover:text-red-600",children:Object(c.jsx)(l.a,{id:"delete",Icon:a.l,title:"Delete",bgColor:"#EF4444"})})]})})}},92:function(e,t,s){"use strict";var a=s(0);const l=a.createContext();t.a=l}}]);
//# sourceMappingURL=18.a6973903.chunk.js.map