{"version":3,"sources":["components/coupon/CouponsTable.js","components/coupon/AddPackage.js","components/coupon/EditPackage.js","components/coupon/DeletePackage.js","pages/Coupons.js","components/table/CustomeEditDelete.js"],"names":["CouponsTable","_ref","packages","openEdit","startDelete","_jsx","_Fragment","children","TableBody","map","packageData","_jsxs","TableRow","TableCell","className","name","discount","dayjs","expire","format","createdAt","CustomeEditDelete","id","_id","title","AddPackage","closeHandler","setName","useState","setDiscount","expireDate","setDate","error","setError","disableButton","setDisableButton","Card","onClick","FaXmark","CardBody","IoWarningOutline","type","onChange","e","target","value","disabled","createPackage","console","log","createdData","url","process","fetch","method","body","JSON","stringify","headers","then","res","ok","json","result","window","location","reload","EditPackage","data","updatePackage","updatedData","DeletePackage","removePackage","Packages","loading","useAsync","AdminServices","getAllLiveCoupons","showAdd","setAdd","showEdit","setShowEdit","state","showDelete","setShowDelete","userRef","setRole","handleChangePage","totalResults","resultsPerPage","dataTable","serviceData","handleSubmitUser","useFilter","PageTitle","Button","addHandler","Loading","length","TableContainer","Table","TableHeader","deleteHandler","TableFooter","Pagination","label","NotFound","Tooltip","Icon","FiEdit","bgColor","FiTrash2"],"mappings":"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","file":"static/js/29.c626c9f6.chunk.js","sourcesContent":["import React from \"react\";\r\nimport * as dayjs from \"dayjs\";\r\nimport { TableCell, TableBody, TableRow } from \"@windmill/react-ui\";\r\nimport CustomeEditDelete from \"../table/CustomeEditDelete\";\r\nimport { IoCheckmarkCircleOutline } from \"react-icons/io5\";\r\nimport { FaRegCircleXmark } from \"react-icons/fa6\";\r\n\r\nconst CouponsTable = ({ packages, openEdit, startDelete }) => {\r\n\r\n\r\n  return (\r\n    <>\r\n      <TableBody>\r\n        {packages?.map(packageData => (\r\n          <TableRow key={packageData._id}>\r\n\r\n            <TableCell>\r\n              <span className=\"text-sm\">{packageData.name}</span>{\" \"}\r\n            </TableCell>\r\n\r\n            <TableCell>\r\n              <span className=\"text-sm\">{packageData.discount}</span>{\" \"}\r\n            </TableCell>\r\n\r\n            <TableCell>\r\n              <span className=\"text-sm\">{dayjs(packageData.expire).format(\"MMM D, YYYY\")}</span>{\" \"}\r\n            </TableCell>\r\n\r\n            <TableCell>\r\n              <span className=\"text-sm\">\r\n                {dayjs(packageData.createdAt).format(\"MMM D, YYYY\")}\r\n              </span>\r\n            </TableCell>\r\n\r\n            <TableCell>\r\n              <CustomeEditDelete\r\n                id={packageData._id}\r\n                title={packageData.name}\r\n                openEdit={openEdit}\r\n                startDelete={startDelete}\r\n              />\r\n            </TableCell>\r\n          </TableRow>\r\n        ))}\r\n      </TableBody>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CouponsTable;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n    Select,\r\n    Card,\r\n    CardBody,\r\n} from \"@windmill/react-ui\";\r\n\r\nimport { FaXmark } from \"react-icons/fa6\";\r\nimport { IoWarningOutline } from \"react-icons/io5\";\r\n\r\n\r\nconst AddPackage = ({ closeHandler }) => {\r\n\r\n    const [name, setName] = useState();\r\n    const [discount, setDiscount] = useState()\r\n    const [expireDate, setDate] = useState()\r\n    const [error, setError] = useState('');\r\n    const [disableButton, setDisableButton] = useState(false);\r\n\r\n\r\n    const createPackage = () => {\r\n        console.log(name === '')\r\n        if (name === '' || discount === '' || expireDate === '') {\r\n            setDisableButton(false)\r\n            return setError('Please Enter Non Empty Values');\r\n        }\r\n        const createdData = { name, expire: expireDate, discount };\r\n\r\n        const url = process.env.REACT_APP_API_BASE_URL + 'coupons'\r\n        console.log('URL => ', url)\r\n        console.log('Data => ', createdData)\r\n        fetch(url, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(createdData),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n            .then(res => {\r\n                if (!res.ok) {\r\n                    setDisableButton(false)\r\n                    return setError(\"Something Went Wrong, Please Refresh And Try Again\");\r\n                }\r\n\r\n                res.json()\r\n            })\r\n            .then(result => {\r\n                console.log(result)\r\n                setError('');\r\n                closeHandler();\r\n                setDisableButton(false);\r\n                window.location.reload();\r\n            })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Card className=\"mt-10 min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5\">\r\n                <div className=\"p-2 bg-gray-700 shadow-md border-gray-900 text-white m-2 inline-block rounded cursor-pointer\" onClick={() => {\r\n                    closeHandler();\r\n                    setDisableButton(false);\r\n                }}>\r\n                    <FaXmark />\r\n                </div>\r\n                <CardBody className=\"flex flex-col justify-start\">\r\n                    {error && <p className=\"mb-5 bg-red-600 text-white font-semibold p-2 rounded flex items-center gap-2\"><IoWarningOutline className=\"text-2xl text-yellow-200\" /> {error}</p>}\r\n                    <div className=\"mb-5 flex flex-col gap-4\">\r\n\r\n                        <label>\r\n                            <p className=\"text-white font-semibold\">Name</p>\r\n                            <input\r\n                                type=\"text\"\r\n                                onChange={(e) => setName(e.target.value)}\r\n                                value={name}\r\n                                className=\"p-2 mt-2 bg-gray-700 rounded w-full outline-none text-white\"\r\n                            />\r\n                        </label>\r\n\r\n                        <label>\r\n                            <p className=\"text-white font-semibold\">Discount</p>\r\n                            <input\r\n                                type=\"number\"\r\n                                onChange={(e) => setDiscount(e.target.value)}\r\n                                value={discount}\r\n                                className=\"p-2 mt-2 bg-gray-700 rounded w-full outline-none text-white\"\r\n                            />\r\n                        </label>\r\n\r\n                        <label>\r\n                            <p className=\"text-white font-semibold\">Expire Date</p>\r\n                            <input\r\n                                type=\"date\"\r\n                                onChange={(e) => setDate(e.target.value)}\r\n                                className=\"p-2 mt-2 bg-gray-700 rounded w-full outline-none text-white\"\r\n                            />\r\n                        </label>\r\n\r\n                    </div>\r\n\r\n                    <button disabled={disableButton} onClick={() => {\r\n                        setDisableButton(true);\r\n                        createPackage();\r\n                    }\r\n                    } className=\"bg-green-500 text-white rounded p-3 font-semibold hover:bg-green-600 duration-300 focus:outline-none\">Create Package</button>\r\n                </CardBody>\r\n            </Card>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddPackage;","import React, { useState } from \"react\";\r\nimport {\r\n    Card,\r\n    CardBody\r\n} from \"@windmill/react-ui\";\r\n\r\nimport { FaXmark } from \"react-icons/fa6\";\r\nimport { IoWarningOutline } from \"react-icons/io5\";\r\n\r\n\r\n\r\nconst EditPackage = ({ closeHandler, data }) => {\r\n    const [name, setName] = useState(data.name);\r\n    const [discount, setDiscount] = useState(data.discount)\r\n    const [expireDate, setDate] = useState()\r\n    const [error, setError] = useState('');\r\n    const [disableButton, setDisableButton] = useState(false);\r\n\r\n    const updatePackage = () => {\r\n        if (name === '' || discount === '' || expireDate === '') {\r\n            setDisableButton(false)\r\n            return setError('Please Enter Non Empty Values');\r\n        }\r\n        const updatedData = { name, discount, expire: expireDate };\r\n        if (!expireDate) {\r\n            updatedData.expire = data.expire;\r\n        }\r\n        console.log(updatedData)\r\n\r\n        const url = process.env.REACT_APP_API_BASE_URL + 'coupons/' + data._id\r\n        fetch(url, {\r\n            method: \"PUT\",\r\n            body: JSON.stringify(updatedData),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n            .then(res => {\r\n                if (!res.ok) {\r\n                    return setError(\"Something Went Wrong, Please Refresh And Try Again\");\r\n                }\r\n                res.json();\r\n            })\r\n            .then(result => {\r\n                setError('');\r\n                closeHandler();\r\n                setDisableButton(false);\r\n                window.location.reload();\r\n            })\r\n    }\r\n    return (\r\n        <>\r\n            <Card className=\"mt-10 min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5\">\r\n                <div className=\"p-2 bg-gray-700 shadow-md border-gray-900 text-white m-2 inline-block rounded cursor-pointer\" onClick={() => {\r\n                    closeHandler();\r\n                    setDisableButton(false);\r\n                }}>\r\n                    <FaXmark />\r\n                </div>\r\n                <CardBody className=\"flex flex-col justify-start\">\r\n                    {error && <p className=\"mb-5 bg-red-600 text-white font-semibold p-2 rounded flex items-center gap-2\"><IoWarningOutline className=\"text-2xl text-yellow-200\" /> {error}</p>}\r\n                    <div className=\"mb-5 flex flex-col gap-4\">\r\n\r\n                        <label>\r\n                            <p className=\"text-white font-semibold\">Name</p>\r\n                            <input\r\n                                type=\"text\"\r\n                                onChange={(e) => setName(e.target.value)}\r\n                                value={name}\r\n                                className=\"p-2 mt-2 bg-gray-700 rounded w-full outline-none text-white\"\r\n                            />\r\n                        </label>\r\n\r\n                        <label>\r\n                            <p className=\"text-white font-semibold\">Discount</p>\r\n                            <input\r\n                                type=\"number\"\r\n                                onChange={(e) => setDiscount(e.target.value)}\r\n                                value={discount}\r\n                                className=\"p-2 mt-2 bg-gray-700 rounded w-full outline-none text-white\"\r\n                            />\r\n                        </label>\r\n\r\n                        <label>\r\n                            <p className=\"text-white font-semibold\">Expire Date <span className=\"text-xs text-green-500\">(You can leave it empty)</span></p>\r\n                            <input\r\n                                type=\"date\"\r\n                                onChange={(e) => setDate(e.target.value)}\r\n                                className=\"p-2 mt-2 bg-gray-700 rounded w-full outline-none text-white\"\r\n                            />\r\n                        </label>\r\n\r\n                    </div>\r\n\r\n                    <button disabled={disableButton} onClick={() => {\r\n                        setDisableButton(true);\r\n                        updatePackage();\r\n                    }\r\n                    } className=\"bg-green-500 text-white rounded p-3 font-semibold hover:bg-green-600 duration-300 focus:outline-none\">Update Package</button>\r\n                </CardBody>\r\n            </Card>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default EditPackage;","import React, { useState } from \"react\";\r\nimport {\r\n    Card,\r\n    CardBody,\r\n} from \"@windmill/react-ui\";\r\n\r\nimport { FaXmark } from \"react-icons/fa6\";\r\nimport { IoWarningOutline } from \"react-icons/io5\";\r\n\r\nconst DeletePackage = ({ closeHandler, id, title }) => {\r\n    const [error, setError] = useState('');\r\n\r\n    const removePackage = () => {\r\n        const url = process.env.REACT_APP_API_BASE_URL + 'coupons/' + id;\r\n        fetch(url, { method: \"DELETE\" })\r\n            .then(res => {\r\n                if (!res.ok) {\r\n                    return setError(\"Something Went Wrong, Please Refresh And Try Again\");\r\n                }\r\n                res.json()\r\n            })\r\n            .then(result => {\r\n                closeHandler();\r\n                window.location.reload();\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Card className=\"mt-10 min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5\">\r\n            <div className=\"p-2 bg-gray-700 shadow-md border-gray-900 text-white m-2 inline-block rounded cursor-pointer\" onClick={closeHandler}>\r\n                <FaXmark />\r\n            </div>\r\n            {error && <p className=\"mb-5 bg-red-600 text-white font-semibold p-2 rounded flex items-center gap-2\"><IoWarningOutline className=\"text-2xl text-yellow-200\" /> {error}</p>}\r\n            <CardBody className=\"flex flex-col justify-start pt-0\">\r\n                <p className=\"text-center text-white mb-4 font-semibold\">Are You Sure You Want To Delete \"{title}\" ?</p>\r\n                <div className=\"flex justify-center gap-5\">\r\n                    <button onClick={closeHandler} className=\"bg-gray-600 text-white rounded py-2 px-5 font-semibold hover:bg-gray-700 duration-300 focus:outline-none\">Cancel</button>\r\n                    <button onClick={removePackage} className=\"bg-red-600 text-white rounded py-2 px-5 font-semibold hover:bg-red-700 duration-300 focus:outline-none\">Delete Package</button>\r\n                </div>\r\n            </CardBody>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default DeletePackage;","import React, { useState } from \"react\";\r\nimport {\r\n    Table,\r\n    TableHeader,\r\n    TableCell,\r\n    TableFooter,\r\n    TableContainer,\r\n    Button,\r\n    Card,\r\n    CardBody,\r\n    Pagination,\r\n} from \"@windmill/react-ui\";\r\n\r\nimport useAsync from \"../hooks/useAsync\";\r\nimport useFilter from \"../hooks/useFilter\";\r\nimport NotFound from \"../components/table/NotFound\";\r\nimport Loading from \"../components/preloader/Loading\";\r\nimport AdminServices from \"../services/AdminServices\";\r\nimport PageTitle from \"../components/Typography/PageTitle\";\r\nimport CouponsTable from \"../components/coupon/CouponsTable\";\r\nimport AddPackage from \"../components/coupon/AddPackage\";\r\nimport EditPackage from \"../components/coupon/EditPackage\";\r\nimport DeletePackage from \"../components/coupon/DeletePackage\";\r\n\r\nconst Packages = () => {\r\n    const { data, loading } = useAsync(() =>\r\n        AdminServices.getAllLiveCoupons()\r\n    );\r\n\r\n    const [showAdd, setAdd] = useState(false);\r\n    const [showEdit, setShowEdit] = useState({\r\n        state: false,\r\n        data: '',\r\n        id: ''\r\n    });\r\n    const [showDelete, setShowDelete] = useState({\r\n        state: false,\r\n        id: '',\r\n        title: ''\r\n    });\r\n    \r\n\r\n\r\n    const addHandler = () => {\r\n        setAdd(true);\r\n        setShowEdit({\r\n            state: false,\r\n            data: '',\r\n            id: ''\r\n        })\r\n        setShowDelete({\r\n            state: false,\r\n            id: '',\r\n            title: ''\r\n        })\r\n    }\r\n\r\n    const editHandler = (id) => {\r\n        const url = process.env.REACT_APP_API_BASE_URL + 'coupons/' + id;\r\n        console.log(url)\r\n        fetch(url)\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                setShowEdit({\r\n                    state: true,\r\n                    data: res.data,\r\n                    id: id\r\n                })\r\n                setAdd(false);\r\n                setShowDelete({\r\n                    state: false,\r\n                    id: '',\r\n                    title: ''\r\n                })\r\n            })\r\n    }\r\n\r\n    const deleteHandler = (id, title) => {\r\n        console.log('Click')\r\n        console.log(title)\r\n        setShowDelete({\r\n            state: true,\r\n            id: id,\r\n            title: title,\r\n        });\r\n        setShowEdit({\r\n            state: false,\r\n            data: '',\r\n            id: ''\r\n        })\r\n        setAdd(false);\r\n    }\r\n\r\n    \r\n\r\n    const closeHandler = () => {\r\n        setShowEdit({\r\n            state: false,\r\n            data: '',\r\n            id: ''\r\n        })\r\n        setAdd(false);\r\n        setShowDelete({\r\n            state: false,\r\n            id: '',\r\n            title: ''\r\n        })\r\n    }\r\n\r\n    const {\r\n        userRef,\r\n        setRole,\r\n        handleChangePage,\r\n        totalResults,\r\n        resultsPerPage,\r\n        dataTable,\r\n        serviceData,\r\n        handleSubmitUser,\r\n    } = useFilter(data.data);\r\n    return (\r\n        <>\r\n            {showAdd && <AddPackage closeHandler={closeHandler} />}\r\n            {showEdit.state && <EditPackage closeHandler={closeHandler} data={showEdit.data} />}\r\n            {showDelete.state && <DeletePackage closeHandler={closeHandler} id={showDelete.id} title={showDelete.title} />}\r\n            <PageTitle>All Coupons</PageTitle>\r\n\r\n            <Card className=\"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5\">\r\n                <CardBody>\r\n                    <Button onClick={addHandler}>Add Coupon</Button>\r\n                </CardBody>\r\n            </Card>\r\n\r\n            {loading ? (\r\n                <Loading loading={loading} />\r\n            ) : serviceData.length !== 0 ? (\r\n                <TableContainer className=\"mb-8 rounded-b-lg\">\r\n                    <Table>\r\n                        <TableHeader>\r\n                            <tr>\r\n                                <TableCell>Name</TableCell>\r\n                                <TableCell>Discount</TableCell>\r\n                                <TableCell>Expire Date</TableCell>\r\n                                <TableCell>Created At</TableCell>\r\n\r\n                                <TableCell className=\"text-right\">Actions</TableCell>\r\n                            </tr>\r\n                        </TableHeader>\r\n                        <CouponsTable packages={dataTable} openEdit={editHandler} startDelete={deleteHandler} />\r\n                    </Table>\r\n                    <TableFooter>\r\n                        <Pagination\r\n                            totalResults={totalResults}\r\n                            resultsPerPage={resultsPerPage}\r\n                            onChange={handleChangePage}\r\n                            label=\"Table navigation\"\r\n                        />\r\n                    </TableFooter>\r\n                </TableContainer>\r\n            ) : (\r\n                <NotFound title=\"Packages\" />\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Packages;\r\n","import React, { useContext } from \"react\";\r\nimport { FiEdit, FiTrash2 } from \"react-icons/fi\";\r\nimport Tooltip from \"../tooltip/Tooltip\";\r\n\r\nconst CustomeEditDelete = ({ id, openEdit, startDelete, title }) => {\r\n  return (\r\n    <>\r\n      <div className=\"flex justify-end text-right\">\r\n        <div\r\n          onClick={() => openEdit(id)}\r\n          className=\"p-2 cursor-pointer text-gray-400 hover:text-green-600\"\r\n        >\r\n          <Tooltip id=\"edit\" Icon={FiEdit} title=\"Edit\" bgColor=\"#10B981\" />\r\n        </div>\r\n\r\n        <div\r\n          onClick={() => startDelete(id, title)}\r\n          className=\"p-2 cursor-pointer text-gray-400 hover:text-red-600\"\r\n        >\r\n          <Tooltip\r\n            id=\"delete\"\r\n            Icon={FiTrash2}\r\n            title=\"Delete\"\r\n            bgColor=\"#EF4444\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CustomeEditDelete;\r\n"],"sourceRoot":""}